<html>
    <head>
        <title>Homework</title>
        
        <!--CSS-->
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
        <link rel="stylesheet" href="/static/css/navigation.css">
        <link rel="stylesheet" href="/static/css/main.css">

        <!--Javascript-->
        <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
        <script src="/static/js/subjects.js"></script>
    </head>
    <body>
        <%- include header.ejs %>
        <p><strong><%- message %></strong></p>
        <h1 class="maintitle" >Subjects</h1>
        <table style="border: 1px solid black; border-collapse: collapse; width:100%" id="subjectTable">
            <tr>
                <th>Subject ID</th>
                <th>User ID</th>
                <th>Subject Name</th>
                <th>Delete</th>
                <th>Edit</th>
            </tr>
            <% for(var i = 0; i < data.length; i++) { %> 
            <tr>
                <td><%= data[i].id %></td>
                <td><%= data[i].userid %></td>
                <td><%= data[i].subjectname %></td>
                <td><a href="#" onclick="removeSubject(<%= data[i].id %>, this)">Delete</a></td>
                <td><a href="#" onclick="ShowSubject(<%= data[i].id %>)">Edit</a></td>
                <!-- The Modal -->
                <div id="myModal<%= data[i].id %>" class="modal">
                <!-- Modal content -->
                    <div class="modal-content">
                        <span class="close" onclick="closeModal(<%= data[i].id %>)">&times;</span>
                        <h4>Edit - <%= data[i].subjectname %></h4>
                        <p>Name: </p> <input type="text" id="newName<%= data[i].id %>" value="<%= data[i].worklabel %>"><br>
                        <button class="save" onclick="changeSubjects(<%= data[i].id %>, $('#newName<%= data[i].id %>')[0].value)">Save</button>
                    </div>
                </div>
            </tr>
            <% } %>
        </table>
        <a href="/app/subjects/create">Create a new Subject</a>
        <% include footer.ejs %>
    </body>
</html>